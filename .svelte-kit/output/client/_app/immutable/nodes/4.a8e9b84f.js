import{s as _e,n as de,r as He,b as Me}from"../chunks/scheduler.3cb4159e.js";import{S as pe,i as he,A as Te,h as x,t as Y,x as Be,y as Ce,k as Q,d as b,p as Oe,e as d,l as G,s as D,c as _,a as H,m as R,b as E,j as r,n as Z,g as K,q as re,r as ie,u as ue,w as ce,f as k,B as ke,v as ne}from"../chunks/index.a13ec469.js";import{p as Ie}from"../chunks/stores.1035636c.js";import{B as Le,o as $e,a as we,M as ye}from"../chunks/Modal2.017dedf1.js";import{e as Ne}from"../chunks/each.e59479a4.js";function De(o,t,n){const e=o.slice();return e[2]=t[n],e[4]=n,e}function Se(o){let t,n="detalle";return{c(){t=d("button"),t.textContent=n},l(e){t=_(e,"BUTTON",{["data-svelte-h"]:!0}),K(t)!=="svelte-1iy7b6z"&&(t.textContent=n)},m(e,l){x(e,t,l)},p:de,i:de,o:de,d(e){e&&b(t)}}}function Ue(o){let t,n;return t=new Le({props:{tipo_doc:o[1].slice(0,-1),folio:o[2][0],interno:o[2][2],vinculaciones:o[2][5]===null?null:JSON.parse(o[2][5]),historial_retiros:o[2][9]===null?null:JSON.parse(o[2][9]).lista_historial,observacion:o[2][5]===null?null:JSON.parse(o[2][5]).observacion,estado_retiro:o[1]==="guias"?o[2][6].replace(/^"(.*)"$/,"$1"):o[2][6],despacho:o[2][8],vendedor:o[2][4],revisor:o[2][7],total:0,fecha:o[2][1],extra_data:o[1]==="guias"?[o[2][10].replace(/^"(.*)"$/,"$1"),o[2][11]]:["NINGUNO",0]}}),{c(){re(t.$$.fragment)},l(e){ie(t.$$.fragment,e)},m(e,l){ue(t,e,l),n=!0},p(e,l){const c={};l&2&&(c.tipo_doc=e[1].slice(0,-1)),l&1&&(c.folio=e[2][0]),l&1&&(c.interno=e[2][2]),l&1&&(c.vinculaciones=e[2][5]===null?null:JSON.parse(e[2][5])),l&1&&(c.historial_retiros=e[2][9]===null?null:JSON.parse(e[2][9]).lista_historial),l&1&&(c.observacion=e[2][5]===null?null:JSON.parse(e[2][5]).observacion),l&3&&(c.estado_retiro=e[1]==="guias"?e[2][6].replace(/^"(.*)"$/,"$1"):e[2][6]),l&1&&(c.despacho=e[2][8]),l&1&&(c.vendedor=e[2][4]),l&1&&(c.revisor=e[2][7]),l&1&&(c.fecha=e[2][1]),l&3&&(c.extra_data=e[1]==="guias"?[e[2][10].replace(/^"(.*)"$/,"$1"),e[2][11]]:["NINGUNO",0]),t.$set(c)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Ee(o){let t,n,e=o[2][0]+"",l,c,a,i=o[2][1]+"",u,v,g,M=o[2][2]+"",m,I,s,p=o[2][3]+"",h,L,V,y,O,T,ee,z,w=o[2][4]+"",W,X,B;const oe=[Ue,Se],S=[];function q(N,f){return f&2&&(y=null),y==null&&(y=!!["boletas","facturas","guias"].includes(N[1])),y?0:1}return O=q(o,-1),T=S[O]=oe[O](o),{c(){t=d("tr"),n=d("td"),l=G(e),c=D(),a=d("td"),u=G(i),v=D(),g=d("td"),m=G(M),I=D(),s=d("td"),h=G(p),L=D(),V=d("td"),T.c(),ee=D(),z=d("td"),W=G(w),X=D()},l(N){t=_(N,"TR",{});var f=H(t);n=_(f,"TD",{});var $=H(n);l=R($,e),$.forEach(b),c=E(f),a=_(f,"TD",{});var ae=H(a);u=R(ae,i),ae.forEach(b),v=E(f),g=_(f,"TD",{});var te=H(g);m=R(te,M),te.forEach(b),I=E(f),s=_(f,"TD",{});var A=H(s);h=R(A,p),A.forEach(b),L=E(f),V=_(f,"TD",{});var J=H(V);T.l(J),J.forEach(b),ee=E(f),z=_(f,"TD",{});var F=H(z);W=R(F,w),F.forEach(b),X=E(f),f.forEach(b)},m(N,f){x(N,t,f),r(t,n),r(n,l),r(t,c),r(t,a),r(a,u),r(t,v),r(t,g),r(g,m),r(t,I),r(t,s),r(s,h),r(t,L),r(t,V),S[O].m(V,null),r(t,ee),r(t,z),r(z,W),r(t,X),B=!0},p(N,f){(!B||f&1)&&e!==(e=N[2][0]+"")&&Z(l,e),(!B||f&1)&&i!==(i=N[2][1]+"")&&Z(u,i),(!B||f&1)&&M!==(M=N[2][2]+"")&&Z(m,M),(!B||f&1)&&p!==(p=N[2][3]+"")&&Z(h,p);let $=O;O=q(N,f),O===$?S[O].p(N,f):(Be(),Q(S[$],1,1,()=>{S[$]=null}),Ce(),T=S[O],T?T.p(N,f):(T=S[O]=oe[O](N),T.c()),Y(T,1),T.m(V,null)),(!B||f&1)&&w!==(w=N[2][4]+"")&&Z(W,w)},i(N){B||(Y(T),B=!0)},o(N){Q(T),B=!1},d(N){N&&b(t),S[O].d()}}}function Je(o){let t,n,e=Ne(o[0]),l=[];for(let a=0;a<e.length;a+=1)l[a]=Ee(De(o,e,a));const c=a=>Q(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=Te()},l(a){for(let i=0;i<l.length;i+=1)l[i].l(a);t=Te()},m(a,i){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(a,i);x(a,t,i),n=!0},p(a,[i]){if(i&3){e=Ne(a[0]);let u;for(u=0;u<e.length;u+=1){const v=De(a,e,u);l[u]?(l[u].p(v,i),Y(l[u],1)):(l[u]=Ee(v),l[u].c(),Y(l[u],1),l[u].m(t.parentNode,t))}for(Be(),u=e.length;u<l.length;u+=1)c(u);Ce()}},i(a){if(!n){for(let i=0;i<e.length;i+=1)Y(l[i]);n=!0}},o(a){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)Q(l[i]);n=!1},d(a){a&&b(t),Oe(l,a)}}}function Ve(o,t,n){let{documentos:e}=t,{tipo_doc:l}=t;return o.$$set=c=>{"documentos"in c&&n(0,e=c.documentos),"tipo_doc"in c&&n(1,l=c.tipo_doc)},[e,l]}class qe extends pe{constructor(t){super(),he(this,t,Ve,Je,_e,{documentos:0,tipo_doc:1})}}function Fe(o){let t,n,e,l='<tr><th scope="col" class="text-center">Nro Folio</th> <th scope="col" class="text-center">Fecha</th> <th scope="col" class="text-center">Nro Interno</th> <th scope="col" class="text-center">Cliente</th> <th scope="col" class="text-center">Detalle</th> <th scope="col" class="text-center">Vendedor</th></tr>',c,a,i,u,v,g,M,m,I="Buscar",s,p,h,L,V,y,O,T,ee="Buscar",z,w,W='<div><input type="number" disabled=""/><button class="btn btn-secondary" disabled="">Buscar</button></div>',X,B,oe='<div><input type="text"/><button class="btn btn-secondary">Buscar</button></div>',S,q,N='<div><input type="number" disabled=""/><button class="btn btn-secondary" disabled="">Buscar</button></div>',f,$,ae='<div><input type="number" disabled=""/><button class="btn btn-secondary" disabled="">Buscar</button></div>',te,A,J,F,fe,me;return J=new qe({props:{documentos:o[5],tipo_doc:o[1]}}),{c(){t=d("div"),n=d("table"),e=d("thead"),e.innerHTML=l,c=D(),a=d("tr"),i=d("td"),u=d("div"),v=d("input"),M=D(),m=d("button"),m.textContent=I,s=D(),p=d("td"),h=d("div"),L=d("input"),V=D(),y=d("input"),O=D(),T=d("button"),T.textContent=ee,z=D(),w=d("td"),w.innerHTML=W,X=D(),B=d("td"),B.innerHTML=oe,S=D(),q=d("td"),q.innerHTML=N,f=D(),$=d("td"),$.innerHTML=ae,te=D(),A=d("tbody"),re(J.$$.fragment),this.h()},l(C){t=_(C,"DIV",{class:!0});var P=H(t);n=_(P,"TABLE",{class:!0});var j=H(n);e=_(j,"THEAD",{["data-svelte-h"]:!0}),K(e)!=="svelte-17f8ama"&&(e.innerHTML=l),c=E(j),a=_(j,"TR",{});var U=H(a);i=_(U,"TD",{class:!0});var be=H(i);u=_(be,"DIV",{});var se=H(u);v=_(se,"INPUT",{type:!0,id:!0}),M=E(se),m=_(se,"BUTTON",{class:!0,["data-svelte-h"]:!0}),K(m)!=="svelte-177v4rp"&&(m.textContent=I),se.forEach(b),be.forEach(b),s=E(U),p=_(U,"TD",{class:!0});var ve=H(p);h=_(ve,"DIV",{class:!0});var le=H(h);L=_(le,"INPUT",{type:!0}),V=E(le),y=_(le,"INPUT",{type:!0}),O=E(le),T=_(le,"BUTTON",{class:!0,style:!0,["data-svelte-h"]:!0}),K(T)!=="svelte-10qwgor"&&(T.textContent=ee),le.forEach(b),ve.forEach(b),z=E(U),w=_(U,"TD",{class:!0,["data-svelte-h"]:!0}),K(w)!=="svelte-1kfiqn4"&&(w.innerHTML=W),X=E(U),B=_(U,"TD",{class:!0,["data-svelte-h"]:!0}),K(B)!=="svelte-jgz5ga"&&(B.innerHTML=oe),S=E(U),q=_(U,"TD",{class:!0,["data-svelte-h"]:!0}),K(q)!=="svelte-84x2zi"&&(q.innerHTML=N),f=E(U),$=_(U,"TD",{class:!0,["data-svelte-h"]:!0}),K($)!=="svelte-ha3c5g"&&($.innerHTML=ae),U.forEach(b),te=E(j),A=_(j,"TBODY",{id:!0});var ge=H(A);ie(J.$$.fragment,ge),ge.forEach(b),j.forEach(b),P.forEach(b),this.h()},h(){k(v,"type","number"),v.value=g=o[1]==="ordenes"?o[2]:o[0],k(v,"id","folio"),k(m,"class","btn btn-secondary"),k(i,"class","text-center"),k(L,"type","date"),L.value=o[3],k(y,"type","date"),y.value=o[4],k(T,"class","btn btn-secondary"),ke(T,"width","100px"),k(h,"class","d-flex flex-column justify-items-center"),k(p,"class","text-center"),k(w,"class","text-center"),k(B,"class","text-center"),k(q,"class","text-center"),k($,"class","text-center"),k(A,"id","cuerpo-tabla"),k(n,"class","table table-bordered"),k(t,"class","table-responsive")},m(C,P){x(C,t,P),r(t,n),r(n,e),r(n,c),r(n,a),r(a,i),r(i,u),r(u,v),r(u,M),r(u,m),r(a,s),r(a,p),r(p,h),r(h,L),r(h,V),r(h,y),r(h,O),r(h,T),r(a,z),r(a,w),r(a,X),r(a,B),r(a,S),r(a,q),r(a,f),r(a,$),r(n,te),r(n,A),ue(J,A,null),F=!0,fe||(me=[ne(v,"input",o[8]),ne(m,"click",o[6]),ne(L,"change",o[9]),ne(y,"change",o[10]),ne(T,"click",o[7])],fe=!0)},p(C,[P]){(!F||P&7&&g!==(g=C[1]==="ordenes"?C[2]:C[0])&&v.value!==g)&&(v.value=g),(!F||P&8)&&(L.value=C[3]),(!F||P&16)&&(y.value=C[4]);const j={};P&32&&(j.documentos=C[5]),P&2&&(j.tipo_doc=C[1]),J.$set(j)},i(C){F||(Y(J.$$.fragment,C),F=!0)},o(C){Q(J.$$.fragment,C),F=!1},d(C){C&&b(t),ce(J),fe=!1,He(me)}}}function Pe(o,t,n){let{tipo_doc:e}=t,{folio:l=0}=t,{folio2:c=0}=t,a="2023-03-06",i="2023-03-06",u=[];async function v(){console.log(e+": buscando x folio ..."),e!="ordenes"?(console.log("buscando doc bol.fact guia credi"),n(5,u=await $e(e,l))):console.log("buscando orden")}async function g(){console.log(e+": buscando x fecha ..."),console.log("|-- Fecha1: "+a+" - Fecha2: "+i),a&&i?(console.log("existe fecha1 y 2"),n(5,u=await we(e,a,i))):alert("Ingrese rango de fechas.")}const M=s=>{n(0,l=s.target.value),console.log(s.target.value)},m=s=>n(3,a=s.target.value),I=s=>n(4,i=s.target.value);return o.$$set=s=>{"tipo_doc"in s&&n(1,e=s.tipo_doc),"folio"in s&&n(0,l=s.folio),"folio2"in s&&n(2,c=s.folio2)},[l,e,c,a,i,u,v,g,M,m,I]}class je extends pe{constructor(t){super(),he(this,t,Pe,Fe,_e,{tipo_doc:1,folio:0,folio2:2})}}function ze(o){let t,n,e,l=o[1].params.tipo_doc+"",c,a,i=o[1].params.aux1+"",u,v,g,M,m,I;return g=new je({props:{tipo_doc:o[1].params.tipo_doc,folio:o[1].params.aux1,folio2:o[2]}}),m=new ye({props:{parametros_porteria:o[0].parametros_porteria}}),{c(){t=d("div"),n=d("h1"),e=G("Buscador de documentos:"),c=G(l),a=G(": "),u=G(i),v=D(),re(g.$$.fragment),M=D(),re(m.$$.fragment),this.h()},l(s){t=_(s,"DIV",{class:!0,style:!0});var p=H(t);n=_(p,"H1",{});var h=H(n);e=R(h,"Buscador de documentos:"),c=R(h,l),a=R(h,": "),u=R(h,i),h.forEach(b),p.forEach(b),v=E(s),ie(g.$$.fragment,s),M=E(s),ie(m.$$.fragment,s),this.h()},h(){k(t,"class","text-center"),ke(t,"margin-top","10px")},m(s,p){x(s,t,p),r(t,n),r(n,e),r(n,c),r(n,a),r(n,u),x(s,v,p),ue(g,s,p),x(s,M,p),ue(m,s,p),I=!0},p(s,[p]){(!I||p&2)&&l!==(l=s[1].params.tipo_doc+"")&&Z(c,l),(!I||p&2)&&i!==(i=s[1].params.aux1+"")&&Z(u,i);const h={};p&2&&(h.tipo_doc=s[1].params.tipo_doc),p&2&&(h.folio=s[1].params.aux1),g.$set(h);const L={};p&1&&(L.parametros_porteria=s[0].parametros_porteria),m.$set(L)},i(s){I||(Y(g.$$.fragment,s),Y(m.$$.fragment,s),I=!0)},o(s){Q(g.$$.fragment,s),Q(m.$$.fragment,s),I=!1},d(s){s&&(b(t),b(v),b(M)),ce(g,s),ce(m,s)}}}function Ae(o,t,n){let e;Me(o,Ie,a=>n(1,e=a));let{data:l}=t;console.log("extra slug"),console.log(e.params);let c;return o.$$set=a=>{"data"in a&&n(0,l=a.data)},[l,e,c]}class We extends pe{constructor(t){super(),he(this,t,Ae,ze,_e,{data:0})}}export{We as component};
